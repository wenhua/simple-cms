(function() {

  require('./zappa')(function() {
    this.get({
      '/': function() {
        return this.render('index', {
          foo: 'bar'
        });
      },
      '/eco': function() {
        return this.render('index.eco', {
          foo: 'bar'
        });
      },
      '/jade': function() {
        return this.render('index.jade', {
          foo: 'bar'
        });
      }
    });
    this.view({
      index: function() {
        h2('CoffeeKup inline template');
        return p(this.foo);
      }
    });
    this.view({
      layout: function() {
        doctype(5);
        return html(function() {
          head(function() {
            return title('CoffeeKup inline layout');
          });
          return body(function() {
            h1('CoffeeKup inline layout');
            return this.body;
          });
        });
      }
    });
    this.view({
      'index.eco': '<h2>Eco inline template</h2>\n<p><%= @foo %></p>'
    });
    this.view({
      'layout.eco': '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Eco inline layout</title>\n  <body>\n    <h1>Eco inline layout</h1>\n    <%- @body %>\n  </body>\n</html>'
    });
    this.view({
      'index.jade': 'h2 Jade inline template\np= foo'
    });
    return this.view({
      'layout.jade': '!!! 5\nhtml\n  head\n    title Jade inline layout\n  body\n    h1 Jade inline layout\n    != body'
    });
  });

}).call(this);
